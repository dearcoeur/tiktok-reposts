<style>
@import url('https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap');

body {
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-image: url(/media/backgrounds/pinkcheck.png);
  background-size: 40px;
  overflow-x: hidden;
}

/* -----------------------------------------------------------
   SELECTION & SCROLLBARS
----------------------------------------------------------- */

::selection {
  background-color: #feeef6;
  color: #616161;
}

::-moz-selection {
  background-color: #feeef6;
  color: #616161;
}

::-webkit-scrollbar {
    width: 10px;             
    height: 10px;        
}

::-webkit-scrollbar-track {
    background: transparent;   
    margin: 5px;             
}

::-webkit-scrollbar-thumb {
    background-color: #ffcce6; 
    border-radius: 50px;     
    border: 2px solid transparent;
    background-clip: content-box; 
}

::-webkit-scrollbar-thumb:hover {
    background-color: #ffb3d9; 
}


.ipad-horizontal {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.ipad-bezel {
  width: 850px;
  height: 580px;
  background: linear-gradient(145deg, #ffffff 0%, #f0f0f0 100%); 
  border-radius: 35px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    0 30px 60px rgba(0,0,0,0.12), 
    inset 0 0 15px rgba(0,0,0,0.05),
    inset 0 2px 3px rgba(255,255,255,1); 
  border: 1px solid #d1d1d1; 
  padding-right: 40px;
  padding-left: 15px;
  overflow: hidden; 
}

.ipad-screen {
  width: 90%;
  height: 88%;
  border-radius: 12px;
  overflow-y: auto;
  position: relative;
  border: 2px solid #1a1a1a; 
  box-shadow: inset 0 0 5px rgba(0,0,0,0.1);
  z-index: 1;
  background: url('/media/backgrounds/bedding.jpg') no-repeat center center !important;
  background-size: cover !important;
  display: flex;
  flex-direction: column;
  overflow: hidden !important;
}

.ipad-home-button {
  width: 48px;
  height: 48px;
  background: linear-gradient(145deg, #ffffff, #f5f5f5);
  border: 1px solid #dcdcdc;
  border-radius: 50%;
  position: absolute;
  right: 18px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 
    inset 0 2px 4px rgba(0,0,0,0.05),
    0 1px 2px rgba(0,0,0,0.1);
  transition: all 0.1s ease;
  outline: none;
}

.ipad-home-button:active {
  transform: translateY(-50%) scale(0.96);
  background: #f0f0f0;
  box-shadow: 
    inset 0 4px 6px rgba(0,0,0,0.1),
    0 0px 1px rgba(0,0,0,0.05);
}

.ipad-home-button::after {
  content: '';
  width: 14px;
  height: 14px;
  border: 1.5px solid #bebebe;
  border-radius: 4px;
  opacity: 0.7;
}

.ipad-screen::-webkit-scrollbar {
  width: 6px;
}
.ipad-screen::-webkit-scrollbar-thumb {
  background: #edaecb;
  border-radius: 10px;
}

.ipad-content {
  padding: 30px;
  font-family: 'nunito', sans-serif;
  color: #676767;
}

.ipad-camera {
  width: 8px;
  height: 8px;
  background: #1a1a1a;
  border-radius: 50%;
  position: absolute;
  left: 25px; 
  z-index: 2;
  opacity: 0.8;
}

.ipad-status-bar {
  height: 25px;
  padding: 0 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  font-size: 11px;
  font-weight: 600;
  color: #ffffff;
  background: rgba(0, 0, 0, 0.1); 
  backdrop-filter: blur(5px);
  z-index: 10;
}

.status-right {
  display: flex;
  gap: 8px;
  align-items: center;
}

.battery-icon {
  width: 18px;
  height: 9px;
  border: 1px solid white;
  border-radius: 2px;
  position: relative;
  display: flex;
  align-items: center;
  padding: 1px;
}

.battery-level {
  width: 100%;
  height: 100%;
  background: white;
}

.ipad-scroll-area {
  flex: 1;
  overflow-y: auto;
  width: 100%;
}

.ipad-scroll-area::-webkit-scrollbar {
  width: 6px;
}
.ipad-scroll-area::-webkit-scrollbar-thumb {
  background: #edaecb;
  border-radius: 10px;
}

.ipad-home-grid {
  display: flex;
  justify-content: center;
  gap: 30px;
  padding: 40px 20px;
}

.app-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.app-icon {
  width: 65px;
  height: 65px;
  background-color: #fff;
  border-radius: 15px;
  position: relative;
  overflow: hidden;
  background-size: cover;
  background-position: center;
  box-shadow: 
    0 10px 20px rgba(0, 0, 0, 0.2),
    inset 0 -3px 6px rgba(0, 0, 0, 0.1),
    inset 0 2px 4px rgba(255, 255, 255, 0.8);
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.app-icon::before {
  content: '';
  position: absolute;
  top: -25%;
  left: -25%;
  width: 150%;
  height: 100%;
  background: radial-gradient(
    circle at 50% 0%, 
    rgba(255, 255, 255, 0.7) 0%, 
    rgba(255, 255, 255, 0.2) 40%,
    transparent 60%
  );
  transform: rotate(-10deg);
  pointer-events: none;
  z-index: 2;
}

.app-icon::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    135deg, 
    rgba(255, 255, 255, 0.3) 0%, 
    rgba(255, 255, 255, 0) 50%, 
    rgba(0, 0, 0, 0.05) 100%
  );
  border-radius: 15px;
  pointer-events: none;
}

.app-icon:active {
  transform: scale(0.92);
  filter: brightness(0.8);
}

.app-label {
  color: white; 
  font-family: nunito;
  font-size: 13px;
  font-weight: bold;
  text-shadow: 0 1px 3px rgba(0,0,0,0.3);
}

.spotify-app-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #ffffff;
  border-radius: 12px;
  z-index: 100;
  opacity: 0;
  pointer-events: none;
  transform-origin: 20% 30%; 
  transform: scale(0.1); 
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1), 
              opacity 0.2s ease-out;
  display: flex;
  overflow: hidden;
  color: #1a1a1a;
  font-family: 'nunito', sans-serif;
}

.spotify-app-screen.open {
  opacity: 1;
  transform: scale(1);
  pointer-events: auto;
}

.spotify-sidebar {
  width: 150px; 
  background: #f9f9f9; 
  padding: 40px 20px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  border-right: 1px solid #eeeeee;
}

.sidebar-item {
  font-size: 12px;
  color: #000000;
  opacity: 0.4;
  cursor: pointer;
  transition: opacity 0.3s ease;
  font-weight: 400;
}

.sidebar-item.active-library {
  opacity: 1;
  font-weight: bold;
  font-size: 13px; 
}

.sidebar-item:hover {
  opacity: 0.7;
}

.spotify-main {
  flex: 1;
  background: linear-gradient(180deg, #ffe0ed 0%, #fff5f9 100%);
  padding: 30px;
  overflow-y: auto;
  color: #1a1a1a;
}

.spotify-playlist-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.playlist-big-card {
  background: #ffffff; 
  padding: 15px;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 12px;
  height: auto; 
  min-height: 190px; 
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.playlist-big-card:hover {
  background: #fdfdfd;
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.08);
}

.playlist-art {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-size: cover;
  background-position: center;
  border-radius: 4px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

.playlist-name {
  color: #1a1a1a; 
  font-size: 14px;
  font-weight: 700;
  display: block; 
  word-wrap: break-word; 
  line-height: 1.2; 
  margin-top: 4px;
}

.spotify-main::-webkit-scrollbar,
.spotify-sidebar::-webkit-scrollbar,
.spotify-app-screen::-webkit-scrollbar {
  display: none;
}

.spotify-main,
.spotify-sidebar,
.spotify-app-screen {
  -ms-overflow-style: none;  
  scrollbar-width: none; 
}

#tiktok-screen {
  background: white;
  color: black;
  justify-content: center;
  overflow-y: auto; 
  scrollbar-width: none;
  -ms-overflow-style: none;
  font-family: 'nunito', sans-serif;
}

#tiktok-screen::-webkit-scrollbar {
  display: none;
}

.tiktok-container {
  width: 100%;
  min-height: 100%; 
  display: flex;
  flex-direction: column;
  background: white;
  position: relative;
}

.tiktok-profile-header {
  padding: 20px 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
  flex-shrink: 0;
}

.tiktok-top-nav {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 18px;
  margin-bottom: 15px;
}

.profile-main-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.profile-pic {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background-size: cover;
  background-position: center;
  border: 1px solid #f1f1f1;
}

.profile-stats {
  display: flex;
  gap: 30px;
  margin: 10px 0;
}

.stat {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.stat strong { 
  font-weight: 800; 
  font-size: 17px; 
}

.stat span { 
  color: #888; 
  font-size: 13px; 
}

.profile-bio { 
  font-size: 14px; 
  text-align: center;
  margin-bottom: 15px; 
  font-weight: 500;
}

.profile-buttons {
  display: flex;
  gap: 10px;
  width: 100%;
  max-width: 400px;
}

.edit-btn, .share-btn {
  flex: 1;
  background: #f1f1f1;
  padding: 10px;
  text-align: center;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 700; 
  cursor: pointer;
}

.tiktok-tabs {
  display: flex;
  border-top: 0.5px solid #eee;
  border-bottom: 0.5px solid #eee;
  flex-shrink: 0;
}

.tab {
  flex: 1;
  text-align: center;
  padding: 12px 0;
  opacity: 0.3;
  font-size: 20px;
  cursor: pointer;
}

.tab.active {
  opacity: 1;
  border-bottom: 2px solid black;
}

#spotify-screen { transform-origin: 15% 20%; }
#tiktok-screen { transform-origin: 50% 20%; }
#gallery-screen { transform-origin: 32% 20%; } 

.app-overlay.open, .spotify-app-screen.open {
  display: flex;
  opacity: 1;
  transform: scale(1);
  pointer-events: auto;
}

.reposts-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr); 
  gap: 1px;
  background: #eee;
  width: 100%;
}

.reposts-grid::-webkit-scrollbar {
  display: none; 
}

.repost-item {
  position: relative;
  aspect-ratio: 3/4;
  background-color: #000;
  overflow: hidden;
  border-radius: 4px; 
}

.repost-user {
  position: absolute;
  bottom: 8px;
  left: 8px;
  color: white;
  font-size: 11px;
  font-weight: 600;
  text-shadow: 0 1px 3px rgba(0,0,0,0.6);
  font-family: 'nunito', sans-serif;
  z-index: 10;
  pointer-events: none; 
}

.tiktok-video {
  width: 100%;
  height: 100%;
  object-fit: cover; 
  position: absolute;
  top: 0;
  left: 0;
  z-index: 0;
}

.app-overlay, .spotify-app-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 12px;
  z-index: 100;
  display: none; 
  opacity: 0;
  pointer-events: none;
  transform: scale(0.1); 
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1), opacity 0.2s ease-out;
  overflow-y: auto; 
}

.repost-item {
  position: relative;
  aspect-ratio: 3/4;
  background-color: #000;
  overflow: hidden;
}

.embed-wrapper {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  transform: scale(0.6); 
  transform-origin: center center;
}

.tiktok-embed {
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  box-shadow: none !important;
}

.tiktok-video-clean {
  width: 100%;
  height: 100%;
  object-fit: cover; 
  display: block;
}

.repost-user {
  position: absolute;
  bottom: 8px;
  left: 8px;
  z-index: 10;
  color: white;
  pointer-events: none; 
  text-shadow: 0 1px 3px rgba(0,0,0,0.8);
}
</style>

<body>

  <div class="ipad-horizontal">
    <div class="ipad-bezel">
      <div class="ipad-camera"></div>

      <div class="ipad-screen">
        <div class="ipad-status-bar" style="border-radius: 12px 12px 0 0;">
          <div class="status-left">9:41 AM</div>
          <div class="status-right">
            <span>✈︎</span>
            <span>100%</span>
            <div style="width: 18px; height: 8px; border: 1px solid white; border-radius: 2px; position: relative; top: 0.5px">
              <div style="width: 14px; height: 6px; background: white; margin: 1px; top: 0.5px"></div>
            </div>
          </div>
        </div>

        <div id="tiktok-screen" class="app-overlay">
          <div class="tiktok-container">
            <div class="tiktok-profile-header">
              <div class="tiktok-top-nav">
                <svg width="18" height="18" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M24 8C18.4772 8 14 12.4772 14 18V22H12C10.8954 22 10 22.8954 10 24V40C10 41.1046 10.8954 42 12 42H36C37.1046 42 38 41.1046 38 40V24C38 22.8954 37.1046 22 36 22H34V18C34 12.4772 29.5228 8 24 8ZM18 18C18 14.6863 20.6863 12 24 12C27.3137 12 30 14.6863 30 18V22H18V18Z" fill="black" />
                </svg>

                <span class="profile-username">coeur</span>

                <svg width="20" height="20" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M7.94971 11.9497H39.9497" stroke="black" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M7.94971 23.9497H39.9497" stroke="black" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M7.94971 35.9497H39.9497" stroke="black" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </div>

              <div class="profile-main-info">
                <div class="profile-pic" style="background-image: url('/media/icons/kiss.jpeg');"></div>
                <div class="profile-stats">
                  <div class="stat"><strong>128</strong><span>following</span></div>
                  <div class="stat"><strong>4.2k</strong><span>followers</span></div>
                  <div class="stat"><strong>50k</strong><span>likes</span></div>
                </div>
              </div>

              <div class="profile-bio">
                <p>placeholder</p>
              </div>

              <div class="profile-buttons">
                <div class="edit-btn">edit profile</div>
                <div class="share-btn">share profile</div>
              </div>
            </div>

            <div class="tiktok-tabs">
              <div class="tab">
                <svg width="20" height="20" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M14.5 6V42M33.5 6V42M6 14.5H42M6 33.5H42" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </div>
              <div class="tab">
                <svg width="22" height="22" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M24 8C18.4772 8 14 12.4772 14 18V22H12C10.8954 22 10 22.8954 10 24V40C10 41.1046 10.8954 42 12 42H36C37.1046 42 38 41.1046 38 40V24C38 22.8954 37.1046 22 36 22H34V18C34 12.4772 29.5228 8 24 8ZM18 18C18 14.6863 20.6863 12 24 12C27.3137 12 30 14.6863 30 18V22H18V18Z" fill="currentColor" />
                </svg>
              </div>
              <div class="tab active">
                <svg width="22" height="22" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16 18L12 14L16 10" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M32 30L36 34L32 38" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M12 14H30C33.3137 14 36 16.6863 36 20V22" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M36 34H18C14.6863 34 12 31.3137 12 28V26" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </div>
              <div class="tab">
                <svg width="22" height="22" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15 8C8.92487 8 4 12.9249 4 19C4 30 17 40 24 42.3262C31 40 44 30 44 19C44 12.9249 39.0751 8 33 8C29.2797 8 25.9907 9.8469 24 12.6738C22.0093 9.8469 18.7203 8 15 8Z" fill="currentColor" />
                </svg>
              </div>
            </div>

            <div class="reposts-grid">

              <div class="repost-item">
                <video class="tiktok-video-clean" src="https://v16-webapp-prime.tiktok.com/video/path-to-your-video.mp4" loop muted playsinline onmouseover="this.play()" onmouseout="this.pause()">
                </video>

                <div class="repost-user">
                  <svg width="10" height="10" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-right: 4px;">
                    <path d="M24 20C28.4183 20 32 16.4183 32 12C32 7.58172 28.4183 4 24 4C19.5817 4 16 7.58172 16 12C16 16.4183 19.5817 20 24 20Z" fill="currentColor" />
                    <path d="M42 44C42 34.0589 33.9411 26 24 26C14.0589 26 6 34.0589 6 44" stroke="currentColor" stroke-width="4" stroke-linecap="round" />
                  </svg>
                  miyoi08
                </div>
              </div>

              <script async src="https://www.tiktok.com/embed.js"></script>

              <div class="repost-item" style="background-image: url('/media/reposts/2.jpg');">
                <div class="repost-user">user2</div>
              </div>
              <div class="repost-item" style="background-image: url('/media/reposts/3.jpg');">
                <div class="repost-user">user3</div>
              </div>
              <div class="repost-item" style="background-image: url('/media/reposts/4.jpg');">
                <div class="repost-user">user4</div>
              </div>
              <div class="repost-item" style="background-image: url('/media/reposts/5.jpg');">
                <div class="repost-user">user5</div>
              </div>
              <div class="repost-item" style="background-image: url('/media/reposts/6.jpg');">
                <div class="repost-user">user6</div>
              </div>

            </div>
          </div>
        </div>

        <div id="spotify-screen" class="spotify-app-screen">
          <div class="spotify-sidebar" style="background: #f9f9f9; border-right: 1px solid #eee;">
            <div class="spotify-user-profile" style="display: flex; align-items: center; gap: 12px; margin-bottom: 25px;">
              <div class="user-icon" style="width: 38px; height: 38px; background-image: url('/media/icons/kiss.jpeg'); background-size: cover; border-radius: 50%;"></div>
              <div style="display: flex; flex-direction: column;">
                <div class="user-name" style="font-size: 16px; font-weight: 700; color: #1a1a1a;">coeur</div>
                <a href="https://open.spotify.com/user/31zdlxdpr6uxxqaobmejfpafkwvi?si=5b610cbcd10f457e" target="_blank" style="text-decoration: none; font-size: 11px; font-weight: 400; color: #1a1a1a; opacity: 0.5;">view profile</a>
              </div>
            </div>
            <div class="sidebar-item" style="opacity: 0.4; font-size: 12px; font-weight: 700; color: #000;"> HOME</div>
            <div class="sidebar-item" style="opacity: 0.4; font-size: 12px; font-weight: 700; color: #000;"> SEARCH</div>
            <div class="sidebar-item" style="opacity: 1; font-size: 12px; font-weight: 700; color: #000;"> LIBRARY</div>
          </div>

          <div class="spotify-main">
            <h2 style="color: #1a1a1a; margin-top: 0; font-family: 'nunito', sans-serif;">your playlists</h2>
            <div class="spotify-playlist-grid">
              <a href="#" style="text-decoration: none;">
                <div class="playlist-big-card">
                  <div class="playlist-art" style="background-image: url('/media/app-icon/playlist1.jpeg');"></div>
                  <div class="playlist-name">songs written with a pink glitter gel pen ♡</div>
                </div>
              </a>
              <a href="#" style="text-decoration: none;">
                <div class="playlist-big-card">
                  <div class="playlist-art" style="background-image: url('/media/app-icon/bunny.jpg');"></div>
                  <div class="playlist-name">to be loved is to be seen</div>
                </div>
              </a>
              <a href="#" style="text-decoration: none;">
                <div class="playlist-big-card">
                  <div class="playlist-art" style="background-image: url('/media/app-icon/food.jpg');"></div>
                  <div class="playlist-name">and i, light-eater, light-loving</div>
                </div>
              </a>
              <a href="#" style="text-decoration: none;">
                <div class="playlist-big-card">
                  <div class="playlist-art" style="background-image: url('/media/app-icon/zaizai.jpg');"></div>
                  <div class="playlist-name">wind chimes</div>
                </div>
              </a>
              <a href="#" style="text-decoration: none;">
                <div class="playlist-big-card">
                  <div class="playlist-art" style="background-image: url('/media/app-icon/miwako.jpg');"></div>
                  <div class="playlist-name">shoujo life ♪</div>
                </div>
              </a>
              <a href="#" style="text-decoration: none;">
                <div class="playlist-big-card">
                  <div class="playlist-art" style="background-image: url('/media/icons/meloplush.jpg');"></div>
                  <div class="playlist-name">scent of heaven</div>
                </div>
              </a>
            </div>
          </div>
        </div>

        <div class="ipad-scroll-area">
          <div class="ipad-home-grid">
            <div class="app-item" onclick="showContent('journal')">
              <div class="app-icon" style="background-image: url('/media/app-icon/spotify.jpg');"></div>
              <div class="app-label">Spotify</div>
            </div>
            <div class="app-item" onclick="showContent('collage')">
              <div class="app-icon" style="background-image: url('/media/app-icon/pictures.jpg');"></div>
              <div class="app-label">Gallery</div>
            </div>
            <div class="app-item" onclick="showContent('videos')">
              <div class="app-icon" style="background-image: url('/media/app-icon/tiktok.jpg');"></div>
              <div class="app-label">Tiktok</div>
            </div>
          </div>
        </div>
      </div>

      <div class="ipad-home-button" onclick="goBack()"></div>
    </div>
  </div>

  <script>
    function showContent(app) {
      let appId = '';
      if (app === 'journal') appId = 'spotify-screen';
      if (app === 'videos') appId = 'tiktok-screen';
      if (app === 'collage') appId = 'gallery-screen';

      if (appId) {
        const target = document.getElementById(appId);
        if (!target) return;

        target.style.display = 'flex';

        requestAnimationFrame(() => {
          target.classList.add('open');
          localStorage.setItem('activeApp', appId);
        });
      }
    }

    function goBack() {
      const activeAppId = localStorage.getItem('activeApp');

      if (activeAppId) {
        const app = document.getElementById(activeAppId);
        if (!app) return;

        app.classList.remove('open');
        localStorage.removeItem('activeApp');

        setTimeout(() => {
          if (!app.classList.contains('open')) {
            app.style.display = 'none';
          }
        }, 500);
      } else {
        const scrollArea = document.querySelector('.ipad-scroll-area');
        if (scrollArea) {
          scrollArea.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        }
      }
    }

    window.addEventListener('load', () => {
      const activeAppId = localStorage.getItem('activeApp');
      if (activeAppId) {
        const app = document.getElementById(activeAppId);
        if (app) {
          app.style.display = 'flex';
          app.style.transition = 'none';
          app.classList.add('open');

          setTimeout(() => {
            app.style.transition = '';
          }, 50);
        }
      }
    });
  </script>

</body>
